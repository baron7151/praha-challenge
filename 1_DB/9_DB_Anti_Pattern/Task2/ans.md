参考記事

https://www.banana-juice.com/tech/articles/mysql/trigger-demerit

https://qiita.com/Yappii_111/items/d069d9315ea226a6d5bd

課題 2

アプリケーション or DB 側

Check,enum 制約等の整合性チェックについて

- 基本的にはマスターテーブルを作成して、そのテーブルを外部参照して、制約をかけるべき。
  - アプリケーション側で制約をかけると、追加・変更があった場合にソースコードの改修が必要になる。
  - Check, enum を使うと新しく追加・修正する場合、DDL の変更が伴う。

domain 制約

- アプリケーションの正規表現で制約をかけることを検討する。
- DB 側に制約をかけると、現在の状態が DB の状態をみないとわからないため、忘れ去られてしまう可能性がある。

trigger 制約

- 基本的はアプリケーション側で対応することが推奨される。
  - 現在の状態が DB の状態をみないとわからないため、忘れ去られてしまう可能性がある。
  - 複雑なロジックを作り込むと、DB 移行が困難になる
- 単純に削除したレコードを履歴テーブルとして保存くらいであれば問題ないと思われる。
